<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>ì œì£¼ í‚¤ìœ„ ì ì‚°ì˜¨ë„ ëª¨ë‹ˆí„°ë§</title>
    <style>
        body { font-family: -apple-system, sans-serif; max-width: 400px; margin: 20px auto; padding: 20px; background: #f8f9fa; }
        .card { background: white; padding: 20px; border-radius: 12px; margin: 10px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .temp { font-size: 24px; font-weight: bold; color: #2c3e50; }
        .gdd { background: linear-gradient(90deg, #e3f2fd 0%, #bbdefb var(--progress)); padding: 12px; border-radius: 8px; }
        .pred { color: #27ae60; font-weight: bold; }
        .progress { color: #3498db; }
        small { color: #7f8c8d; }
    </style>
</head>
<body>
    <h1>ğŸ¥ ì œì£¼ í‚¤ìœ„ ëª¨ë‹ˆí„°ë§</h1>
    
    <div class="card" id="now">
        <div>ì‹¤ì‹œê°„ ì˜¨ë„</div>
        <div class="temp" id="temp-out">-</div>
        <div>ì™¸ë¶€ / <span id="temp-2dong">-</span> (2ë™) / <span id="temp-3dong">-</span> (3ë™)</div>
    </div>
    
    <div class="card">
        <div>GDD ì§„í–‰ë„ <span class="progress" id="gdd-progress">-</span></div>
        <div class="gdd">
            <strong id="gdd-total">-</strong> / <span id="gdd-bud">-</span> (ë°œì•„10%)<br>
            <strong id="gdd-total2">-</strong> / <span id="gdd-bloom">-</span> (ë§Œê°œ50%)
        </div>
        <small id="gdd-basis">-</small>
    </div>
    
    <div class="card">
        <div>ì˜ˆìƒ ê°œí™”ì¼ <span class="progress" id="chill-progress">-</span></div>
        <div class="pred">ë°œì•„10%: <span id="bud-date">-</span></div>
        <div class="pred">ë§Œê°œ50%: <span id="bloom-date">-</span></div>
    </div>
    
    <div class="card">
        <div>ì¹ ë§ ëˆ„ì  <span id="chill-total">-</span> / 100ì¼</div>
    </div>
    
    <div style="text-align:center; padding:20px 0; color:#7f8c8d;">
        ìµœì¢… ì—…ë°ì´íŠ¸: <span id="timestamp">-</span><br>
        <button onclick="location.reload()">ìƒˆë¡œê³ ì¹¨</button>
    </div>

    <script>
        fetch('data/status.json')
            .then(r=>r.json())
            .then(data => {
                // ì‹¤ì‹œê°„
                document.getElementById('temp-out').textContent = data.now.ì™¸ë¶€ì˜¨ë„?.toFixed(1) + 'Â°C';
                document.getElementById('temp-2dong').textContent = data.now['2ë™_c']?.toFixed(1) + 'Â°C';
                document.getElementById('temp-3dong').textContent = data.now['3ë™_c']?.toFixed(1) + 'Â°C';
                
                // GDD
                document.getElementById('gdd-total').textContent = data.gdd.total;
                document.getElementById('gdd-total2').textContent = data.gdd.total;
                document.getElementById('gdd-bud').textContent = data.gdd.target_bud;
                document.getElementById('gdd-bloom').textContent = data.gdd.target_bloom;
                document.getElementById('gdd-progress').textContent = data.gdd.progress;
                document.getElementById('gdd-basis').textContent = data.gdd.basis;
                
                // ì˜ˆìƒì¼
                document.getElementById('bud-date').textContent = data.gdd.bud_date;
                document.getElementById('bloom-date').textContent = data.gdd.bloom_date;
                document.getElementById('chill-progress').textContent = data.chill.progress;
                
                // ì¹ ë§
                document.getElementById('chill-total').textContent = data.chill.total_days;
                
                // ì‹œê°„
                document.getElementById('timestamp').textContent = new Date(data.timestamp).toLocaleString('ko-KR');
                
                // ì§„í–‰ë„ ë°”
                document.querySelector('.gdd').style.setProperty('--progress', data.gdd.progress);
            });
    </script>
</body>
</html>
